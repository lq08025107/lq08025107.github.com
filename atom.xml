<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[刘强的博客]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://lq08025107.github.io/"/>
  <updated>2016-03-06T05:51:46.208Z</updated>
  <id>http://lq08025107.github.io/</id>
  
  <author>
    <name><![CDATA[John Doe]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[EasyDarwin入门实践]]></title>
    <link href="http://lq08025107.github.io/2016/03/06/EasyDarwin%E5%85%A5%E9%97%A8%E5%AE%9E%E8%B7%B5/"/>
    <id>http://lq08025107.github.io/2016/03/06/EasyDarwin入门实践/</id>
    <published>2016-03-06T05:50:51.000Z</published>
    <updated>2016-03-06T05:51:46.208Z</updated>
    <content type="html"><![CDATA[<h1 id="EasyDarwin_u5F00_u6E90_u6D41_u5A92_u4F53_u5E73_u53F0"><a href="#EasyDarwin_u5F00_u6E90_u6D41_u5A92_u4F53_u5E73_u53F0" class="headerlink" title="EasyDarwin开源流媒体平台"></a>EasyDarwin开源流媒体平台</h1><p>本文大部分内容参考<br><a href="/EasyDarwin">http://doc.easydarwin.org/EasyDarwin/README/</a></p>
<p><strong>EasyDarwin</strong>是由国内开源流媒体团队开发和维护的一款开源流媒体平台框架，从2012年12月创建并发展至今，从原有的单服务的流媒体服务器形式，扩展成现在的云平台架构的开源项目，更好地帮助广大流媒体开发者和创业型企业快速构建流媒体服务平台，更快、更简单地实现最新的移动互联网(安卓、IOS、微信)流媒体直播与点播的需求，尤其是安防行业与互联网行业的衔接。</p>
<h1 id="EasyDawin_u76EE_u524D_u652F_u6301"><a href="#EasyDawin_u76EE_u524D_u652F_u6301" class="headerlink" title="EasyDawin目前支持"></a>EasyDawin目前支持</h1><p>1.MP4点播回放；</p>
<p>2.标准RTSP推模式直播(QTSSReflectorModule)；</p>
<p>3.标准RTSP拉模式直播(EasyRelayModule)；</p>
<p>4.HLS直播(EasyHLSModule)；</p>
<p>5.接入EasyDarwin流媒体平台，分布式部署；</p>
<h1 id="u7F16_u8BD1_u90E8_u7F72_u65B9_u6CD5"><a href="#u7F16_u8BD1_u90E8_u7F72_u65B9_u6CD5" class="headerlink" title="编译部署方法"></a>编译部署方法</h1><p>1.获取EasyDarwin最新版本。</p>
<p>2.VS下进行项目生成，将相关dll文件拷入文件夹中即可启动服务。</p>
<p>3.配置easydarwin.xml<br>主要的几个配置项：</p>
<p><strong>rtsp_port</strong>: EasyDarwin RTSP服务监听的端口；</p>
<p><strong>movie_folder</strong>:媒体文件存储的路径，包括点播文件、直播切片生成的hls文件；</p>
<p><strong>http_service_port</strong>:Webservice服务端口;</p>
<p><strong>hls_output_enabled</strong>：配置QTSSReflectorModule在接收推送的同时，是否同步输出hls；</p>
<p><strong>HTTP_ROOT_DIR</strong>：配置EasyHLSModule的对外WEB路径；</p>
<p><strong>local_ip_address</strong>：配置EasyRelayModule对外服务的ip地址，因为可能会有多网卡或者内网映射，所以需要手动配置；</p>
<p>4.运行EasyDarwin</p>
<p>【前提】EasyDarwin可执行文件必须与/html/目录在同一层目录中</p>
<p>Windows版本运行(控制台调试运行)：</p>
<pre><code>EasyDarwin.exe -c ./easydarwin.xml -d
</code></pre><p>注：需要把libEasyHLS.dll，libEasyPusher.dll，libEasyRTSPClient.dll，html文件夹和Movies文件夹拷贝到可执行程序的同目录下！</p>
<p>Windows服务运行：</p>
<pre><code>cd ./
set curPath=&quot;%cd%&quot;
echo service path：%curPath%
sc create EasyDarwin binPath= &quot;%curPath%\EasyDarwin.exe -c %curPath%\easydarwin.xml&quot; start= auto
sc failure EasyDarwin reset= 0 actions= restart/0
net start EasyDarwin
pause
</code></pre><p>将这段脚本做成bat，运行，我们就创建了一个叫做EasyDarwin的Windows服务了，通过系统服务（services.msc）可以查看到。 注：Windows不同版本可能稍有差异，建议在命令行运行bat脚本，而不是直接双击运行，这样能看到具体出错原因！</p>
<p>5.具体使用示例</p>
<p>MP4点播</p>
<p>将经过Hint处理过的mp4文件存在movie_folder目录中，访问RTSP地址：</p>
<pre><code>rtsp:://[ip]:[rtsp_port]/[filename]
</code></pre><p>使用VLC等播放器即可播放。</p>
<p>推模式转发</p>
<p>直接通过标准RTSP/RTP推送流程（ANNOUNCE/SETUP/PLAY/RTP）向EasyDarwin推送音视频数据进行转发和分发，例如rtsp_port配置为8554，那我们可以直接用EasyDarwin EasyPusher或者live555 DarwinInjector向8554端口进行直播推送；</p>
<p>拉模式转发</p>
<p>调用接口（用vlc、ffplay、live555等RTSP Client调用）</p>
<pre><code>RTSP://[ip]:[rtsp_port]/EasyRelayModule?name=[relayName]&amp;url=&quot;[RTSP_URL]&quot;
</code></pre><p>例如EasyDarwin服务器IP地址是：8.8.8.8，RTSP端口(rtsp_port)：554，IPCamera的RTSP地址是：rtsp://admin:admin@192.168.66.189/22，那么我们可以：</p>
<p>1、配置easydarwin.xml EasyRelayModule</p>
<pre><code>&lt;PREF NAME=&quot;local_ip_address&quot; &gt;8.8.8.8&lt;/PREF&gt;
</code></pre><p>2、请求转发：RTSP://8.8.8.8:554/EasyRelayModule?name=live&amp;url=”rtsp://admin:admin@192.168.66.189/22” （name是定义一个拉模式转发流的唯一标识，不允许重复）</p>
<p>3、直播URL：RTSP://8.8.8.8:554/EasyRelayModule?name=live</p>
<p>4、请求停止转发：RTSP://8.8.8.8:554/EasyRelayModule?name=live&amp;cmd=stop （cmd=stop表示停止拉模式转发）</p>
<p>6.实际操作</p>
<p>A 使用EasyDarwin+VLC进行MP4点播，效果如下：<br><img src="http://7xr558.com1.z0.glb.clouddn.com/easydarwinmp4.png" alt="MP4点播"></p>
<p>B 使用EasyPuhser+EasyDarwin+Nginx查看网页直播<br>具体操作详见最上面网址，配置过程一定要知道每一步自己在干什么，配合Nginx+EasyPusher+EasyDarwin，可以实现向服务器推送RTSP流，然后转发到公网进行查看。效果如下：<br><img src="http://7xr558.com1.z0.glb.clouddn.com/HLS.png" alt="HLS"></p>
<p>7.这一套每个工具的作用<br>EasyDarwin：直播、点播，安防行业与互联网行业对接</p>
<pre><code>输入：MP4本地文件 RTSP流
输出：RTSP流 HLS直播
</code></pre><p>EasyPusher：一个给EasyDarwin推送流媒体音视频的推送库，使EasyDarwin可以进行转发和分发</p>
<pre><code>EasyPush_FILE：推送本地文件到服务器
EasyPusher_RTSP：通过EasyRTSPClient库，将RTSP/RTP数据获取到本地，再推送到EasyDarwin
支持的视频编码有：H264、MJPEG、MPEG4
支持的音频编码有：AAC、G711 alaw、G711 ulaw
</code></pre><p>EasyHLS：只需要传入打包的文件名、切片存放的目录、单个切片时长以及切片数等参数，EasyHLS库就能轻松将H264+AAC的流媒体切片成m3u8+ts，提供给WEB服务器进行HLS流媒体发布；</p>
<pre><code>EasyHLS_RTSP：通过RTSPClient将RTSP URL的流媒体数据获取并进行ts打包，提供HLS直播
</code></pre><p>EasyRTSPClient：EasyRTSPClient是EasyDarwin开源流媒体团队提供的一套非常稳定、易用、支持重连的RTSPClient工具，接口调用非常简单，再也不用像调用live555那样处理整个RTSP OPTIONS/DESCRIBE/SETUP/PLAY的复杂流程，担心内存释放的问题了！</p>
<pre><code>拉取RTSP流到本地
</code></pre><p>EasyClient：客户端项目，支持多种源接入，Windows摄像头、麦克风、RTSP摄像机、屏幕桌面，采集后经过264编码、EasyPuhser推送到流媒体服务器进行转发；还支持通过EasyRTSPClient拉取EasyDarwin直播流，充当VLC的作用。如下图所示：</p>
<p><img src="http://7xr558.com1.z0.glb.clouddn.com/EasyClient.png" alt="Client"></p>
<p>总之，这一套解决方案算是全的了，有如下这些（官网截图，我们用的只是其中一小部分）：</p>
<p><img src="http://7xr558.com1.z0.glb.clouddn.com/EasyDarwin%E7%B3%BB%E5%88%97%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.png" alt="系列解决方案"></p>
<p>8.科普小知识</p>
<p>HLS(HTTP Living Streaming):Apple的动态码率自适应技术。主要用于PC和Apple终端的音视频服务。包括一个m3u(8)的索引文件，TS媒体分片文件和key加密串文件。</p>
<p>RTSP(Real Time Streaming Protocol):实时流传输协议，用于在客户端和服务器之间建立和协商实时流会话。</p>
<p>有兴趣的可以多研究研究。</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="EasyDarwin_u5F00_u6E90_u6D41_u5A92_u4F53_u5E73_u53F0"><a href="#EasyDarwin_u5F00_u6E90_u6D41_u5A92_u4F53_u5E73_u53F0" class="headerl]]>
    </summary>
    
      <category term="EasyDarwin" scheme="http://lq08025107.github.io/tags/EasyDarwin/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hadoop之HDFS]]></title>
    <link href="http://lq08025107.github.io/2016/02/29/Hadoop%E4%B9%8BHDFS/"/>
    <id>http://lq08025107.github.io/2016/02/29/Hadoop之HDFS/</id>
    <published>2016-02-29T12:14:01.000Z</published>
    <updated>2016-02-29T14:21:31.472Z</updated>
    <content type="html"><![CDATA[<p>Hadoop是Apache基金会研发的分布式系统基础架构，具体项目来源、发展历程随便上网查一查，一堆一堆的。不知道大家注意到没，市面上Hadoop书籍上面都是一只小象，据说是作者儿子的一个毛绒玩具，小孩子的创造力总是无穷的，才能有这么好听的名字，哈哈，开始，其实我研究的并不深，先是停留在原理性和了解性的阶段，并没有涉及代码层次。</p>
<p>Hadoop的中心思想是利用普通硬件组成集群，来替代性能高、价钱高的服务器，当然到了一个极限的话，价格再高也换不来高性能了，所以Hadoop<br>的出现很有必要。Hadoop主要是要解决两个方面的问题：<strong>存储</strong>、<strong>运算</strong>。这篇文章主要是讲存储系统，即HDFS。<br><a id="more"></a></p>
<p>HDFS(Hadoop Distribute File System，Hadoop分布式文件系统)1.首先是运行在廉价的服务器上 2.需要保存多个副本（默认3个副本），提供容错机制，副本丢失会自动恢复 3.HDFS将文件分割成block，默认大小是64M，然后将block按键值对存储在内存中，若block划分太小，小文件太多的话，内存开销太大，所以HDFS适合处理大数据。</p>
<p>先给出一幅图，然后对图中进行解释：<br><img src="http://7xr558.com1.z0.glb.clouddn.com/hdfs.png" alt="HDFS"></p>
<p>NameNode：名字节点，位于HDFS主端，指导从端的DataNode执行底层的I/O任务，是HDFS中最关键的一点，跟踪文件如何被分割成文件块，文件块被存储在哪些DataNode中等信息，监测整体运行是否正常。</p>
<p>DataNode：数据节点，存储数据，执行MapReduce运算(这个不属于HDFS范畴，不细说)</p>
<p>Secondary NameNode：不接收或记录HDFS的任何实时变化，仅与NameNode通信，按照时间间隔获取快照。</p>
<p>HDFS终究也是个文件系统，文件系统最主要还是离不开读写，无论底层怎么复杂，对用户都是透明的，我们可以大体看一下HDFS读文件的流程。<br><img src="http://7xr558.com1.z0.glb.clouddn.com/HDFS%20%E8%AF%BB%E6%96%87%E4%BB%B6.png" alt="HDFS读文件"></p>
<p>HDFS写文件，以创建新文件并保存为例。<br><img src="http://7xr558.com1.z0.glb.clouddn.com/HDFS%E6%96%B0%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%B9%B6%E4%BF%9D%E5%AD%98.png" alt="HDFS保存"></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Hadoop是Apache基金会研发的分布式系统基础架构，具体项目来源、发展历程随便上网查一查，一堆一堆的。不知道大家注意到没，市面上Hadoop书籍上面都是一只小象，据说是作者儿子的一个毛绒玩具，小孩子的创造力总是无穷的，才能有这么好听的名字，哈哈，开始，其实我研究的并不深，先是停留在原理性和了解性的阶段，并没有涉及代码层次。</p>
<p>Hadoop的中心思想是利用普通硬件组成集群，来替代性能高、价钱高的服务器，当然到了一个极限的话，价格再高也换不来高性能了，所以Hadoop<br>的出现很有必要。Hadoop主要是要解决两个方面的问题：<strong>存储</strong>、<strong>运算</strong>。这篇文章主要是讲存储系统，即HDFS。<br>]]>
    
    </summary>
    
      <category term="Hadoop HDFS" scheme="http://lq08025107.github.io/tags/Hadoop-HDFS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[RPC(Remote Procedure Call Protocol)]]></title>
    <link href="http://lq08025107.github.io/2016/02/24/RPC-Remote-Procedure-Call-Protocol/"/>
    <id>http://lq08025107.github.io/2016/02/24/RPC-Remote-Procedure-Call-Protocol/</id>
    <published>2016-02-24T14:19:56.000Z</published>
    <updated>2016-03-06T05:52:31.200Z</updated>
    <content type="html"><![CDATA[<h1 id="1-_u5B9A_u4E49"><a href="#1-_u5B9A_u4E49" class="headerlink" title="1.定义"></a>1.定义</h1><p>RPC:Remote Procedure Call protocol,远程过程调用协议，通俗来讲即两台服务器A，B，一个应用部署在A服务器上，想要调用B服务器上应用提供的函数/方法，由于不在一个内存空间，不能直接调用，需要通过网络来表达调用的语义和传达调用的数据。</p>
<h1 id="2-_u8981_u89E3_u51B3_u7684_u95EE_u9898"><a href="#2-_u8981_u89E3_u51B3_u7684_u95EE_u9898" class="headerlink" title="2.要解决的问题"></a>2.要解决的问题</h1><p>正如定义所述，RPC从本质上来讲，只是一种网络通信，由于互联网的高速发展，同一台机器之间需要进行进程之间的通信，然后不同机器之间的进程也需要通信，RPC要解决的问题就是这个，RPC是分布式、集群的基础吧。<br><a id="more"></a></p>
<h1 id="3-_u5982_u4F55_u5B9E_u73B0"><a href="#3-_u5982_u4F55_u5B9E_u73B0" class="headerlink" title="3.如何实现"></a>3.如何实现</h1><p>引用如下的图，来说明RPC的实现原理<br><img src="http://7xr558.com1.z0.glb.clouddn.com/45366c44f775abfd0ac3b43bccc1abc3_r.jpg" alt="PicMissing"><br>从分层的角度来看，个人觉得RPC涉及到了应用层和传输层，这个图例一眼就能看懂，无需多言，如果要自己实现一个这样的框架，应该考虑哪些问题呢？</p>
<p>(A)在Server和Client之间建立TCP通信连接，可以是按需连接，也可以是长连接。</p>
<p>(B)Client如何找到Server，既然是通信，总需要一些向IP、Port之类的东西，还有与Server端的哪个进程的哪个方法通信等问题。</p>
<p>(C)方法的参数传递方式，Client需要把所谓的实参通过网络传递给Server端，就要涉及将内存中的值序列化成二进制的值。</p>
<p>(D)Server收到后需要进行反序列化，然后进行本地调用，得到返回值。</p>
<p>(E)Server将返回值序列化成二进制序列传输给Client，Client进行反序列化即可。</p>
<h1 id="4-_u6846_u67B6"><a href="#4-_u6846_u67B6" class="headerlink" title="4.框架"></a>4.框架</h1><p>RPC只是一个概念，当然有很多组织和企业用自己的方法实现，实现出来的结果就是所谓的框架，搜索了一下，主要有CORBA(Common Object Request Broker Architecture,通用对象请求代理体系结构)、JAVA RMI(Remote Method Invocation,远程方法调用)和Thrift(FB开源框架)等等。</p>
<h1 id="5-_u5B9E_u73B0"><a href="#5-_u5B9E_u73B0" class="headerlink" title="5.实现"></a>5.实现</h1><p>在4.框架中提到了Java的RPC，即RMI，由于我也是Java新手，所以就大体找了个HelloWorld试了试，转自<a href="http://lavasoft.blog.51cto.com/62575/91679/" target="_blank" rel="external">熔岩</a>,代码如下：<br>首先定义接口：IHello<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.rmi.Remote;</span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IHello</span> <span class="keyword">extends</span> <span class="title">Remote</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">helloWorld</span><span class="params">()</span> <span class="keyword">throws</span> RemoteException</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">sayHelloToSomeBody</span><span class="params">(String someBodyName)</span> <span class="keyword">throws</span> RemoteException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后是服务器端的实现HelloImpl<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.rmi.Remote;</span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.server.UnicastRemoteObject;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloImpl</span> <span class="keyword">extends</span> <span class="title">UnicastRemoteObject</span> <span class="keyword">implements</span> <span class="title">IHello</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">HelloImpl</span><span class="params">()</span> <span class="keyword">throws</span> RemoteException</span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">helloWorld</span><span class="params">()</span> <span class="keyword">throws</span> RemoteException</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"HelloWorld!"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">sayHelloToSomeBody</span><span class="params">(String someBodyName)</span> <span class="keyword">throws</span> RemoteException</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Hello "</span>+someBodyName+<span class="string">"!"</span>;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后是服务器端的HelloServer<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre&gt;&lt;code&gt;</span><br><span class="line"><span class="keyword">import</span> java.rmi.Remote;</span><br><span class="line"><span class="keyword">import</span> java.rmi.Naming; </span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.AlreadyBoundException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.LocateRegistry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.Registry;</span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServer</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			IHello rhello=<span class="keyword">new</span> HelloImpl();</span><br><span class="line">			LocateRegistry.createRegistry(<span class="number">8888</span>);</span><br><span class="line">			Naming.bind(<span class="string">"rmi://localhost:8888/RHello"</span>,rhello);</span><br><span class="line">			System.out.println(<span class="string">"INFO:Bingding Remote Object IHello Successfully!"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(RemoteException e)&#123;</span><br><span class="line">			System.out.println(<span class="string">"Creating Remote Object Exception"</span>);</span><br><span class="line">		&#125;	</span><br><span class="line">		<span class="keyword">catch</span>(AlreadyBoundException e)&#123;</span><br><span class="line">			System.out.println(<span class="string">"AlreadyBoundException"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(MalformedURLException e)&#123;</span><br><span class="line">			System.out.println(<span class="string">"MalformedURLException"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>到此可以运行起来Server端，就不上图了，很简单。</p>
<p>最后是客户端的HelloClient<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.rmi.Remote;</span><br><span class="line"><span class="keyword">import</span> java.rmi.Naming; </span><br><span class="line"><span class="keyword">import</span> java.rmi.RemoteException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.AlreadyBoundException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.LocateRegistry;</span><br><span class="line"><span class="keyword">import</span> java.rmi.registry.Registry;</span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"><span class="keyword">import</span> java.rmi.NotBoundException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloClient</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			IHello rhello=(IHello)Naming.lookup(<span class="string">"rmi://localhost:8888/RHello"</span>);</span><br><span class="line">			System.out.println(rhello.helloWorld());</span><br><span class="line">			System.out.println(rhello.sayHelloToSomeBody(<span class="string">"LiuQiang"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(NotBoundException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(MalformedURLException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(RemoteException e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后上一张图：<br><img src="http://7xr558.com1.z0.glb.clouddn.com/RMIClient.png" alt="PicMissing"><br>打算如果有时间，试试facebook的RPC：Thrift。</p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="1-_u5B9A_u4E49"><a href="#1-_u5B9A_u4E49" class="headerlink" title="1.定义"></a>1.定义</h1><p>RPC:Remote Procedure Call protocol,远程过程调用协议，通俗来讲即两台服务器A，B，一个应用部署在A服务器上，想要调用B服务器上应用提供的函数/方法，由于不在一个内存空间，不能直接调用，需要通过网络来表达调用的语义和传达调用的数据。</p>
<h1 id="2-_u8981_u89E3_u51B3_u7684_u95EE_u9898"><a href="#2-_u8981_u89E3_u51B3_u7684_u95EE_u9898" class="headerlink" title="2.要解决的问题"></a>2.要解决的问题</h1><p>正如定义所述，RPC从本质上来讲，只是一种网络通信，由于互联网的高速发展，同一台机器之间需要进行进程之间的通信，然后不同机器之间的进程也需要通信，RPC要解决的问题就是这个，RPC是分布式、集群的基础吧。<br>]]>
    
    </summary>
    
      <category term="RPC Java" scheme="http://lq08025107.github.io/tags/RPC-Java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://lq08025107.github.io/2016/02/22/Hello-World/"/>
    <id>http://lq08025107.github.io/2016/02/22/Hello-World/</id>
    <published>2016-02-22T13:31:57.000Z</published>
    <updated>2016-03-06T05:52:06.499Z</updated>
    <content type="html"><![CDATA[<p>这是我使用Github+Hexo的第一篇博客，也不管到底是技术博还是生活或者情感博了，也不知道以后会不会继续更新了，但至少我知道有一个地方，在无聊的时候我可以进来发泄一下。</p>
<p>今天是正月十五，元宵节，这个节日在我家乡那边算一个很隆重的节日了，刚才爸爸和姐姐去溜大街了，想想自己好久没在家过元宵节了。还记得很小很小的时候，我们还在村里住着，元宵节我和姐姐到城里外婆家过十五，两个人可能一共有1块钱，我姐掌管着（小时候我很依靠姐姐），然后走到烤羊肉串旁边，我说：姐姐，我想吃羊肉串。我俩都不知道那到底是什么味道，后来，姐姐花了2毛钱给我买了一串，具体什么味道早已经忘记了，可是这个细节我记了很久很久。<br><a id="more"></a></p>
<p>上传几张照片，今天突然很想姐姐。<br><img src="http://7xr558.com1.z0.glb.clouddn.com/DSC05428.JPG" alt="PicMissing"><br>这张是我大三时候姐姐去天津找我玩</p>
<p><img src="http://7xr558.com1.z0.glb.clouddn.com/DSC05418.JPG" alt="PicMissing"><br>嘿嘿，我姐漂亮吧</p>
<p>前几天姐来北京拍了婚纱照了，time fly，很怀念小的时候，愿我们都好！</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>这是我使用Github+Hexo的第一篇博客，也不管到底是技术博还是生活或者情感博了，也不知道以后会不会继续更新了，但至少我知道有一个地方，在无聊的时候我可以进来发泄一下。</p>
<p>今天是正月十五，元宵节，这个节日在我家乡那边算一个很隆重的节日了，刚才爸爸和姐姐去溜大街了，想想自己好久没在家过元宵节了。还记得很小很小的时候，我们还在村里住着，元宵节我和姐姐到城里外婆家过十五，两个人可能一共有1块钱，我姐掌管着（小时候我很依靠姐姐），然后走到烤羊肉串旁边，我说：姐姐，我想吃羊肉串。我俩都不知道那到底是什么味道，后来，姐姐花了2毛钱给我买了一串，具体什么味道早已经忘记了，可是这个细节我记了很久很久。<br>]]>
    
    </summary>
    
      <category term="生活" scheme="http://lq08025107.github.io/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
</feed>
